<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Simple Harmonic Motion - Fun Learning!</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Comic Sans MS", cursive, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        background: white;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        overflow: hidden;
      }

      .header {
        background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
        color: white;
        text-align: center;
        padding: 30px;
      }

      .header h1 {
        font-size: 2.5em;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      .header p {
        font-size: 1.2em;
        opacity: 0.9;
      }

      .controls {
        background: #f8f9fa;
        padding: 30px;
        display: flex;
        justify-content: center;
        gap: 30px;
        flex-wrap: wrap;
      }

      .control-group {
        text-align: center;
      }

      .control-group label {
        display: block;
        font-size: 1.2em;
        font-weight: bold;
        color: #333;
        margin-bottom: 10px;
      }

      .control-group input {
        width: 120px;
        height: 50px;
        font-size: 1.2em;
        text-align: center;
        border: 3px solid #4ecdc4;
        border-radius: 25px;
        background: white;
        color: #333;
      }

      .control-group input:focus {
        outline: none;
        border-color: #ff6b6b;
        box-shadow: 0 0 10px rgba(255, 107, 107, 0.3);
      }

      .visualization {
        display: flex;
        gap: 20px;
        padding: 30px;
        flex-wrap: wrap;
      }

      .spring-container {
        flex: 1;
        min-width: 300px;
        background: #f0f8ff;
        border-radius: 15px;
        padding: 20px;
        text-align: center;
      }

      .spring-container h3 {
        color: #333;
        margin-bottom: 20px;
        font-size: 1.5em;
      }

      #springCanvas {
        border: 3px solid #4ecdc4;
        border-radius: 10px;
        background: white;
        max-width: 100%;
      }

      .graph-container {
        flex: 1;
        min-width: 300px;
        background: #f0f8ff;
        border-radius: 15px;
        padding: 20px;
        text-align: center;
      }

      .graph-container h3 {
        color: #333;
        margin-bottom: 20px;
        font-size: 1.5em;
      }

      #graphCanvas {
        border: 3px solid #4ecdc4;
        border-radius: 10px;
        background: white;
        max-width: 100%;
      }

      .legend {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-top: 15px;
        flex-wrap: wrap;
      }

      .legend-item {
        display: flex;
        align-items: center;
        gap: 5px;
      }

      .legend-color {
        width: 20px;
        height: 20px;
        border-radius: 50%;
      }

      .play-button {
        background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
        color: white;
        border: none;
        padding: 15px 30px;
        font-size: 1.3em;
        border-radius: 25px;
        cursor: pointer;
        margin: 20px;
        font-family: "Comic Sans MS", cursive;
        font-weight: bold;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        transition: transform 0.2s;
      }

      .play-button:hover {
        transform: translateY(-2px);
      }

      .play-button:active {
        transform: translateY(0);
      }

      @media (max-width: 768px) {
        .visualization {
          flex-direction: column;
        }

        .controls {
          flex-direction: column;
          align-items: center;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>🌟 Simple Harmonic Motion Fun! 🌟</h1>
        <p>Learn about springs and waves by playing with the controls below!</p>
      </div>

      <div class="controls">
        <div class="control-group">
          <label for="amplitude">Amplitude (A)</label>
          <input
            type="number"
            id="amplitude"
            value="1"
            min="0.1"
            max="3"
            step="0.1"
          />
        </div>
        <div class="control-group">
          <label for="xm">Xm</label>
          <input type="number" id="xm" value="1" min="0.1" max="3" step="0.1" />
        </div>
        <div class="control-group">
          <label for="omega">Omega (ω)</label>
          <input
            type="number"
            id="omega"
            value="6.28"
            min="1"
            max="20"
            step="0.1"
          />
        </div>
      </div>

      <div style="text-align: center">
        <button class="play-button" onclick="updateVisualization()">
          🎮 Play Animation!
        </button>
      </div>

      <div class="visualization">
        <div class="spring-container">
          <h3>Spring with Mass</h3>
          <canvas id="springCanvas" width="400" height="300"></canvas>
        </div>

        <div class="graph-container">
          <h3>Motion Graphs</h3>
          <canvas id="graphCanvas" width="400" height="300"></canvas>
          <div class="legend">
            <div class="legend-item">
              <div class="legend-color" style="background-color: #ff6b6b"></div>
              <span>Displacement (x)</span>
            </div>
            <div class="legend-item">
              <div class="legend-color" style="background-color: #4ecdc4"></div>
              <span>Velocity (v)</span>
            </div>
            <div class="legend-item">
              <div class="legend-color" style="background-color: #45b7d1"></div>
              <span>Acceleration (a)</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Physics constants and variables
      let A = 1; // Amplitude
      let Xm = 1; // Maximum displacement
      let omega = 2 * Math.PI; // Angular frequency
      let phi = 0; // Phase
      let time = 0;
      let animationId;
      let isAnimating = false;

      // Canvas elements
      const springCanvas = document.getElementById("springCanvas");
      const graphCanvas = document.getElementById("graphCanvas");
      const springCtx = springCanvas.getContext("2d");
      const graphCtx = graphCanvas.getContext("2d");

      // Input elements
      const amplitudeInput = document.getElementById("amplitude");
      const xmInput = document.getElementById("xm");
      const omegaInput = document.getElementById("omega");

      // Add event listeners
      amplitudeInput.addEventListener("input", updateVisualization);
      xmInput.addEventListener("input", updateVisualization);
      omegaInput.addEventListener("input", updateVisualization);

      function updateVisualization() {
        A = parseFloat(amplitudeInput.value);
        Xm = parseFloat(xmInput.value);
        omega = parseFloat(omegaInput.value);

        if (isAnimating) {
          cancelAnimationFrame(animationId);
        }

        drawSpring();
        drawGraph();
      }

      function drawSpring() {
        const canvas = springCanvas;
        const ctx = springCtx;
        const width = canvas.width;
        const height = canvas.height;

        ctx.clearRect(0, 0, width, height);

        // Calculate current displacement
        const x = Xm * Math.sin(omega * time + phi);
        const displacement = (x / Xm) * 100; // Scale to canvas

        // Draw fixed support
        ctx.strokeStyle = "#333";
        ctx.lineWidth = 4;
        ctx.beginPath();
        ctx.moveTo(50, 50);
        ctx.lineTo(width - 50, 50);
        ctx.stroke();

        // Draw spring
        const springX = width / 2;
        const springTopY = 50;
        const springBottomY = 150 + displacement;

        ctx.strokeStyle = "#666";
        ctx.lineWidth = 3;
        ctx.beginPath();
        ctx.moveTo(springX, springTopY);

        // Draw spring coils
        const springLength = springBottomY - springTopY;
        const coilCount = Math.max(8, Math.floor(springLength / 15));
        const coilHeight = springLength / coilCount;

        for (let i = 0; i < coilCount; i++) {
          const y = springTopY + i * coilHeight;
          const coilWidth = 20;
          ctx.lineTo(springX - coilWidth, y + coilHeight / 2);
          ctx.lineTo(springX + coilWidth, y + coilHeight);
        }
        ctx.lineTo(springX, springBottomY);
        ctx.stroke();

        // Draw mass
        ctx.fillStyle = "#ff6b6b";
        ctx.beginPath();
        ctx.arc(springX, springBottomY, 25, 0, 2 * Math.PI);
        ctx.fill();

        // Draw mass outline
        ctx.strokeStyle = "#333";
        ctx.lineWidth = 2;
        ctx.stroke();

        // Draw arrows indicating motion
        if (Math.abs(displacement) > 5) {
          ctx.strokeStyle = "#4ecdc4";
          ctx.lineWidth = 3;
          ctx.beginPath();
          if (displacement > 0) {
            // Down arrow
            ctx.moveTo(springX + 40, springBottomY);
            ctx.lineTo(springX + 40, springBottomY + 20);
            ctx.moveTo(springX + 35, springBottomY + 15);
            ctx.lineTo(springX + 40, springBottomY + 20);
            ctx.lineTo(springX + 45, springBottomY + 15);
          } else {
            // Up arrow
            ctx.moveTo(springX + 40, springBottomY);
            ctx.lineTo(springX + 40, springBottomY - 20);
            ctx.moveTo(springX + 35, springBottomY - 15);
            ctx.lineTo(springX + 40, springBottomY - 20);
            ctx.lineTo(springX + 45, springBottomY - 15);
          }
          ctx.stroke();
        }

        // Draw equilibrium line
        ctx.strokeStyle = "#999";
        ctx.lineWidth = 1;
        ctx.setLineDash([5, 5]);
        ctx.beginPath();
        ctx.moveTo(50, 150);
        ctx.lineTo(width - 50, 150);
        ctx.stroke();
        ctx.setLineDash([]);
      }

      function drawGraph() {
        const canvas = graphCanvas;
        const ctx = graphCtx;
        const width = canvas.width;
        const height = canvas.height;

        ctx.clearRect(0, 0, width, height);

        // Draw axes
        ctx.strokeStyle = "#333";
        ctx.lineWidth = 2;
        ctx.beginPath();
        ctx.moveTo(50, height / 2);
        ctx.lineTo(width - 50, height / 2);
        ctx.moveTo(50, 30);
        ctx.lineTo(50, height - 30);
        ctx.stroke();

        // Draw axis labels
        ctx.fillStyle = "#333";
        ctx.font = "14px Comic Sans MS";
        ctx.textAlign = "center";
        ctx.fillText("Time", width / 2, height - 10);
        ctx.save();
        ctx.translate(20, height / 2);
        ctx.rotate(-Math.PI / 2);
        ctx.fillText("Value", 0, 0);
        ctx.restore();

        // Draw grid lines
        ctx.strokeStyle = "#ddd";
        ctx.lineWidth = 1;
        for (let i = 1; i < 10; i++) {
          const x = 50 + (i * (width - 100)) / 10;
          ctx.beginPath();
          ctx.moveTo(x, 30);
          ctx.lineTo(x, height - 30);
          ctx.stroke();
        }

        // Calculate and draw curves
        const timeRange = (4 * Math.PI) / omega;
        const timeStep = timeRange / 200;

        // Displacement (x) - Red
        ctx.strokeStyle = "#ff6b6b";
        ctx.lineWidth = 3;
        ctx.beginPath();
        for (let t = 0; t <= timeRange; t += timeStep) {
          const x = Xm * Math.sin(omega * t + phi);
          const graphX = 50 + (t / timeRange) * (width - 100);
          const graphY = height / 2 - (x / Xm) * 100;
          if (t === 0) {
            ctx.moveTo(graphX, graphY);
          } else {
            ctx.lineTo(graphX, graphY);
          }
        }
        ctx.stroke();

        // Velocity (v) - Teal
        ctx.strokeStyle = "#4ecdc4";
        ctx.lineWidth = 3;
        ctx.beginPath();
        for (let t = 0; t <= timeRange; t += timeStep) {
          const v = Xm * omega * Math.cos(omega * t + phi);
          const graphX = 50 + (t / timeRange) * (width - 100);
          const graphY = height / 2 - (v / (Xm * omega)) * 100;
          if (t === 0) {
            ctx.moveTo(graphX, graphY);
          } else {
            ctx.lineTo(graphX, graphY);
          }
        }
        ctx.stroke();

        // Acceleration (a) - Blue
        ctx.strokeStyle = "#45b7d1";
        ctx.lineWidth = 3;
        ctx.beginPath();
        for (let t = 0; t <= timeRange; t += timeStep) {
          const a = -Xm * omega * omega * Math.sin(omega * t + phi);
          const graphX = 50 + (t / timeRange) * (width - 100);
          const graphY = height / 2 - (a / (Xm * omega * omega)) * 100;
          if (t === 0) {
            ctx.moveTo(graphX, graphY);
          } else {
            ctx.lineTo(graphX, graphY);
          }
        }
        ctx.stroke();

        // Draw current time indicator
        const currentTime = time % timeRange;
        const indicatorX = 50 + (currentTime / timeRange) * (width - 100);
        ctx.strokeStyle = "#ff6b6b";
        ctx.lineWidth = 2;
        ctx.beginPath();
        ctx.moveTo(indicatorX, 30);
        ctx.lineTo(indicatorX, height - 30);
        ctx.stroke();
      }

      function animate() {
        time += 0.05;
        drawSpring();
        drawGraph();
        animationId = requestAnimationFrame(animate);
      }

      function updateVisualization() {
        A = parseFloat(amplitudeInput.value);
        Xm = parseFloat(xmInput.value);
        omega = parseFloat(omegaInput.value);

        if (isAnimating) {
          cancelAnimationFrame(animationId);
        }

        drawSpring();
        drawGraph();
      }

      // Play button functionality
      document
        .querySelector(".play-button")
        .addEventListener("click", function () {
          if (isAnimating) {
            cancelAnimationFrame(animationId);
            isAnimating = false;
            this.textContent = "🎮 Play Animation!";
          } else {
            isAnimating = true;
            this.textContent = "⏸️ Pause Animation!";
            animate();
          }
        });

      // Initialize the visualization
      updateVisualization();
    </script>
  </body>
</html>
